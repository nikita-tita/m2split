"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[757],{6383:function(e,t,r){r.d(t,{Layout:function(){return y}});var a=r(7437);r(2265);var n=r(7648),c=r(9376),s=r(1994),i=r(5466),o=r(8736),d=r(9277),l=r(8226),u=r(7117),m=r(5805),p=r(8728),x=r(7692),g=r(2097);let f=[{name:"Дашборд",href:"/dashboard",icon:i.Z},{name:"Сделки",href:"/deals",icon:o.Z},{name:"Реестры",href:"/registries",icon:d.Z},{name:"Выплаты",href:"/payments",icon:l.Z},{name:"Документы",href:"/documents",icon:u.Z},{name:"Контрагенты",href:"/contractors",icon:m.Z},{name:"Настройки",href:"/settings",icon:p.Z}],y=e=>{let{children:t}=e,r=(0,c.usePathname)(),{currentUser:i}=(0,g.o)();return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"fixed inset-y-0 left-0 w-64 bg-white border-r border-gray-200",children:(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsx)("div",{className:"flex items-center h-16 px-6 border-b border-gray-200",children:(0,a.jsx)("h1",{className:"text-xl font-bold text-primary-600",children:"M2 Split"})}),(0,a.jsx)("nav",{className:"flex-1 px-4 py-6 space-y-1 overflow-y-auto",children:f.map(e=>{let t=e.icon,c=r===e.href;return(0,a.jsxs)(n.default,{href:e.href,className:(0,s.W)("flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors",c?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-50"),children:[(0,a.jsx)(t,{className:"w-5 h-5 mr-3"}),e.name]},e.name)})}),i&&(0,a.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:i.name}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 truncate",children:["DEVELOPER_ADMIN"===i.role&&"Застройщик","M2_OPERATOR"===i.role&&"Оператор М2","CONTRACTOR"===i.role&&"Исполнитель","BANK_INTEGRATION"===i.role&&"Банк"]})]}),(0,a.jsx)("button",{className:"ml-3 p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",title:"Выйти",children:(0,a.jsx)(x.Z,{className:"w-5 h-5"})})]})})]})}),(0,a.jsx)("div",{className:"pl-64",children:(0,a.jsx)("main",{className:"p-8",children:t})})]})}},4226:function(e,t,r){r.d(t,{z:function(){return c}});var a=r(7437);r(2265);var n=r(1994);let c=e=>{let{variant:t="primary",size:r="md",className:c,children:s,disabled:i,...o}=e;return(0,a.jsx)("button",{className:(0,n.W)("inline-flex items-center justify-center rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500"}[t],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[r],c),disabled:i,...o,children:s})}},9178:function(e,t,r){r.d(t,{O:function(){return s},Z:function(){return c}});var a=r(7437);r(2265);var n=r(1994);let c=e=>{let{children:t,className:r,padding:c="md"}=e;return(0,a.jsx)("div",{className:(0,n.W)("bg-white rounded-lg shadow-sm border border-gray-200",{none:"",sm:"p-4",md:"p-6",lg:"p-8"}[c],r),children:t})},s=e=>{let{title:t,subtitle:r,action:n}=e;return(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:t}),r&&(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:r})]}),n&&(0,a.jsx)("div",{children:n})]})}},8068:function(e,t,r){r.d(t,{I:function(){return c},P:function(){return s}});var a=r(7437);r(2265);var n=r(1994);let c=e=>{let{label:t,error:r,helperText:c,className:s,...i}=e;return(0,a.jsxs)("div",{className:"w-full",children:[t&&(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),(0,a.jsx)("input",{className:(0,n.W)("w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",r?"border-red-300":"border-gray-300",s),...i}),r&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:r}),c&&!r&&(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:c})]})},s=e=>{let{label:t,error:r,options:c,className:s,...i}=e;return(0,a.jsxs)("div",{className:"w-full",children:[t&&(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),(0,a.jsx)("select",{className:(0,n.W)("w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",r?"border-red-300":"border-gray-300",s),...i,children:c.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))}),r&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:r})]})}},5930:function(e,t,r){r.d(t,{RM:function(){return i},SC:function(){return o},iA:function(){return c},pj:function(){return d},xD:function(){return s}});var a=r(7437);r(2265);var n=r(1994);let c=e=>{let{children:t,className:r}=e;return(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsx)("table",{className:(0,n.W)("min-w-full divide-y divide-gray-200",r),children:t})})},s=e=>{let{children:t}=e;return(0,a.jsx)("thead",{className:"bg-gray-50",children:t})},i=e=>{let{children:t}=e;return(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t})},o=e=>{let{children:t,onClick:r,className:c}=e;return(0,a.jsx)("tr",{className:(0,n.W)(r&&"cursor-pointer hover:bg-gray-50",c),onClick:r,children:t})},d=e=>{let{children:t,header:r,className:c}=e;return r?(0,a.jsx)("th",{className:(0,n.W)("px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",c),children:t}):(0,a.jsx)("td",{className:(0,n.W)("px-6 py-4 whitespace-nowrap text-sm text-gray-900",c),children:t})}},3694:function(e,t,r){r.d(t,{G:function(){return c},L$:function(){return o},bs:function(){return a},dp:function(){return n},kG:function(){return i},nh:function(){return s}});let a=[{id:"1",email:"admin@developer.ru",name:"Иван Застройщиков",role:"DEVELOPER_ADMIN",createdAt:new Date("2024-01-01")},{id:"2",email:"operator@m2split.ru",name:"Мария Операторова",role:"M2_OPERATOR",createdAt:new Date("2024-01-01")},{id:"3",email:"agency@realty.ru",name:'АН "Недвижимость+"',role:"CONTRACTOR",createdAt:new Date("2024-01-15")}],n=[{id:"c1",name:'АН "Недвижимость Плюс"',inn:"7701234567",kpp:"770101001",accountNumber:"40702810100000001234",bik:"044525225",bankName:"ПАО Сбербанк",address:"г. Москва, ул. Примерная, д. 1",taxRegime:"VAT",role:"AGENCY",offerAcceptedAt:new Date("2024-02-01"),offerAcceptanceChannel:"email",createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-02-01")},{id:"c2",name:"Петров Петр Петрович",inn:"771234567890",accountNumber:"40817810200000002345",bik:"044525225",bankName:"ПАО Сбербанк",address:"г. Москва, ул. Агентская, д. 2",taxRegime:"USN",role:"AGENT",offerAcceptedAt:new Date("2024-02-05"),offerAcceptanceChannel:"web",createdAt:new Date("2024-01-20"),updatedAt:new Date("2024-02-05")},{id:"c3",name:"Сидорова Анна Ивановна",inn:"123456789012",accountNumber:"40817810300000003456",bik:"044525974",bankName:"ПАО ВТБ",address:"г. Санкт-Петербург, пр. Невский, д. 100",taxRegime:"NPD",role:"NPD",offerAcceptedAt:new Date("2024-02-10"),offerAcceptanceChannel:"mobile",createdAt:new Date("2024-01-25"),updatedAt:new Date("2024-02-10")}],c=[{id:"d1",objectName:'ЖК "Солнечный"',objectAddress:"г. Москва, ул. Солнечная, д. 10, корп. 1",lotNumber:"Кв. 45",developerId:"1",totalAmount:15e6,status:"IN_PROGRESS",shares:[{id:"s1",contractorId:"c1",contractor:n[0],role:"AGENCY",sharePercent:60,amount:9e6,taxRegime:"VAT",vatRate:20,contractNumber:"АГ-001/2024",contractDate:new Date("2024-02-01")},{id:"s2",contractorId:"c2",contractor:n[1],role:"AGENT",sharePercent:30,amount:45e5,taxRegime:"USN",contractNumber:"АГ-002/2024",contractDate:new Date("2024-02-05")},{id:"s3",contractorId:"c3",contractor:n[2],role:"NPD",sharePercent:10,amount:15e5,taxRegime:"NPD",contractNumber:"АГ-003/2024",contractDate:new Date("2024-02-10")}],contractBasis:"Договор комиссии",contractNumber:"ДК-2024-001",contractDate:new Date("2024-02-01"),specialAccountReceiptDate:new Date("2024-02-15"),responsibleUserId:"2",initiator:{role:"M2_OPERATOR",partyId:"1",userId:"2",timestamp:new Date("2024-02-01")},createdAt:new Date("2024-02-01"),updatedAt:new Date("2024-02-15")},{id:"d2",objectName:'ЖК "Морской бриз"',objectAddress:"г. Санкт-Петербург, наб. Морская, д. 5",lotNumber:"Кв. 102",developerId:"1",totalAmount:22e6,status:"DRAFT",shares:[{id:"s4",contractorId:"c1",contractor:n[0],role:"AGENCY",sharePercent:70,amount:154e5,taxRegime:"VAT",vatRate:20},{id:"s5",contractorId:"c2",contractor:n[1],role:"AGENT",sharePercent:30,amount:66e5,taxRegime:"USN"}],responsibleUserId:"2",initiator:{role:"AGENCY_ADMIN",partyId:"c1",userId:"3",timestamp:new Date("2024-03-01")},createdAt:new Date("2024-03-01"),updatedAt:new Date("2024-03-01")}],s=[{id:"r1",registryNumber:"РЕЕ-2024-001",date:new Date("2024-03-15"),status:"APPROVED",totalAmount:15e6,linesCount:3,creatorId:"2",approverId:"1",approvedAt:new Date("2024-03-16"),lines:[{id:"l1",registryId:"r1",contractorId:"c1",contractor:n[0],role:"AGENCY",inn:"7701234567",accountNumber:"40702810100000001234",bik:"044525225",amount:9e6,taxRegime:"VAT",vatRate:20,contractNumber:"АГ-001/2024",contractDate:new Date("2024-02-01"),comment:"Комиссия за сделку ЖК Солнечный кв.45",paymentStatus:"PENDING",createdAt:new Date("2024-03-15"),updatedAt:new Date("2024-03-15")},{id:"l2",registryId:"r1",contractorId:"c2",contractor:n[1],role:"AGENT",inn:"771234567890",accountNumber:"40817810200000002345",bik:"044525225",amount:45e5,taxRegime:"USN",contractNumber:"АГ-002/2024",contractDate:new Date("2024-02-05"),comment:"Агентское вознаграждение",paymentStatus:"PENDING",createdAt:new Date("2024-03-15"),updatedAt:new Date("2024-03-15")},{id:"l3",registryId:"r1",contractorId:"c3",contractor:n[2],role:"NPD",inn:"123456789012",accountNumber:"40817810300000003456",bik:"044525974",amount:15e5,taxRegime:"NPD",contractNumber:"АГ-003/2024",contractDate:new Date("2024-02-10"),comment:"Услуги самозанятого",paymentStatus:"PENDING",createdAt:new Date("2024-03-15"),updatedAt:new Date("2024-03-15")}],createdAt:new Date("2024-03-15"),updatedAt:new Date("2024-03-16")}],i=[{id:"p1",registryId:"r1",lineId:"l1",contractorId:"c1",amount:9e6,status:"EXECUTED",bankReference:"BNK-2024-001",executedAt:new Date("2024-03-17"),createdAt:new Date("2024-03-16"),updatedAt:new Date("2024-03-17")},{id:"p2",registryId:"r1",lineId:"l2",contractorId:"c2",amount:45e5,status:"ACCEPTED_BY_BANK",bankReference:"BNK-2024-002",createdAt:new Date("2024-03-16"),updatedAt:new Date("2024-03-16")},{id:"p3",registryId:"r1",lineId:"l3",contractorId:"c3",amount:15e5,status:"ERROR",bankErrorCode:"ERR-01",bankErrorText:"Неверный номер счёта получателя",createdAt:new Date("2024-03-16"),updatedAt:new Date("2024-03-16")}],o={specialAccountBalance:37e6,paidThisPeriod:9e6,pendingPayments:6e6,errorPayments:15e5,primaryDocCompletion:33.33,vatSavings:18e5}},2097:function(e,t,r){r.d(t,{o:function(){return a}});let a=(0,r(3011).U)(e=>({currentUser:null,setCurrentUser:t=>e({currentUser:t}),deals:[],setDeals:t=>e({deals:t}),addDeal:t=>e(e=>({deals:[...e.deals,t]})),updateDeal:(t,r)=>e(e=>({deals:e.deals.map(e=>e.id===t?{...e,...r}:e)})),registries:[],setRegistries:t=>e({registries:t}),addRegistry:t=>e(e=>({registries:[...e.registries,t]})),updateRegistry:(t,r)=>e(e=>({registries:e.registries.map(e=>e.id===t?{...e,...r}:e)})),contractors:[],setContractors:t=>e({contractors:t}),addContractor:t=>e(e=>({contractors:[...e.contractors,t]})),updateContractor:(t,r)=>e(e=>({contractors:e.contractors.map(e=>e.id===t?{...e,...r}:e)})),payments:[],setPayments:t=>e({payments:t}),updatePayment:(t,r)=>e(e=>({payments:e.payments.map(e=>e.id===t?{...e,...r}:e)})),settings:{companyName:"ООО 'СтройДевелопмент'",inn:"7701234567",kpp:"770101001",address:"г. Москва, ул. Строителей, д. 1",currentAccount:"40702810100000001234",specialAccount:"40702810200000002345",bik:"044525225",bankName:"ПАО Сбербанк",apiKey:"sk_test_••••••••••••••••",webhookUrl:"",ipWhitelist:""},updateSettings:t=>e(e=>({settings:{...e.settings,...t}}))}))},1384:function(e,t,r){r.d(t,{gG:function(){return s},o0:function(){return c},p6:function(){return n},xG:function(){return a}});let a=e=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:2,maximumFractionDigits:2}).format(e),n=e=>{let t="string"==typeof e?new Date(e):e;return new Intl.DateTimeFormat("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}).format(t)},c=e=>{let t="string"==typeof e?new Date(e):e;return new Intl.DateTimeFormat("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)},s=e=>({VAT:"НДС",USN:"УСН",NPD:"НПД"})[e]},2660:function(e,t,r){r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},9397:function(e,t,r){r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8930:function(e,t,r){r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}}]);