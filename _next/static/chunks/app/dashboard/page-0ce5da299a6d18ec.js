(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{8484:function(e,s,t){Promise.resolve().then(t.bind(t,597))},597:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return w}});var r=t(7437),i=t(2265),n=t(6383),a=t(9178),c=t(1384);let l=e=>{let{title:s,value:t,icon:n,trend:l,format:d="number"}=e,x=i.useMemo(()=>"currency"===d&&"number"==typeof t?(0,c.xG)(t):"percent"===d&&"number"==typeof t?"".concat(t.toFixed(2),"%"):t,[t,d]);return(0,r.jsx)(a.Z,{children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:s}),(0,r.jsx)("p",{className:"mt-2 text-3xl font-semibold text-gray-900",children:x}),l&&(0,r.jsxs)("p",{className:"mt-2 text-sm ".concat(l.positive?"text-green-600":"text-red-600"),children:[l.positive?"+":"-",Math.abs(l.value),"%",(0,r.jsx)("span",{className:"text-gray-500 ml-1",children:"vs прошлый период"})]})]}),(0,r.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-primary-50 rounded-lg",children:(0,r.jsx)(n,{className:"w-6 h-6 text-primary-600"})})]})})};var d=t(4226),x=t(9379),h=t(5930),o=t(9397),j=t(9277),u=t(9205);let m=(0,u.Z)("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),p=(0,u.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),y=(0,u.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),g=(0,u.Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var f=t(7117);let v=(0,u.Z)("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);var N=t(2097),b=t(3694),k=t(7648);function w(){let{deals:e,payments:s}=(0,N.o)(),t=b.L$,i=b.G.slice(0,3),u=b.kG.slice(0,5);return(0,r.jsx)(n.Layout,{children:(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Дашборд"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Общая информация по выплатам и сделкам"})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)(k.default,{href:"/deals/new",children:(0,r.jsxs)(d.z,{children:[(0,r.jsx)(o.Z,{className:"w-5 h-5 mr-2"}),"Создать сделку"]})}),(0,r.jsx)(k.default,{href:"/registries/new",children:(0,r.jsxs)(d.z,{variant:"secondary",children:[(0,r.jsx)(j.Z,{className:"w-5 h-5 mr-2"}),"Сформировать реестр"]})})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,r.jsx)(l,{title:"Сумма на спецсчёте",value:t.specialAccountBalance,icon:m,format:"currency"}),(0,r.jsx)(l,{title:"Выплачено за период",value:t.paidThisPeriod,icon:p,format:"currency",trend:{value:12.5,positive:!0}}),(0,r.jsx)(l,{title:"Выплаты в ожидании",value:t.pendingPayments,icon:y,format:"currency"}),(0,r.jsx)(l,{title:"Выплаты в ошибке",value:t.errorPayments,icon:g,format:"currency"}),(0,r.jsx)(l,{title:"Полнота первички",value:t.primaryDocCompletion,icon:f.Z,format:"percent"}),(0,r.jsx)(l,{title:"Экономия НДС для АН",value:t.vatSavings,icon:v,format:"currency"})]}),(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(a.O,{title:"Недавние сделки",action:(0,r.jsx)(k.default,{href:"/deals",children:(0,r.jsx)(d.z,{variant:"ghost",size:"sm",children:"Все сделки"})})}),(0,r.jsxs)(h.iA,{children:[(0,r.jsx)(h.xD,{children:(0,r.jsxs)(h.SC,{children:[(0,r.jsx)(h.pj,{header:!0,children:"Объект"}),(0,r.jsx)(h.pj,{header:!0,children:"Лот"}),(0,r.jsx)(h.pj,{header:!0,children:"Сумма"}),(0,r.jsx)(h.pj,{header:!0,children:"Статус"}),(0,r.jsx)(h.pj,{header:!0,children:"Дата"})]})}),(0,r.jsx)(h.RM,{children:i.map(e=>(0,r.jsxs)(h.SC,{children:[(0,r.jsx)(h.pj,{children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium",children:e.objectName}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:e.objectAddress})]})}),(0,r.jsx)(h.pj,{children:e.lotNumber||"—"}),(0,r.jsx)(h.pj,{children:(0,c.xG)(e.totalAmount)}),(0,r.jsx)(h.pj,{children:(0,r.jsxs)(x.C,{variant:"IN_PROGRESS"===e.status?"info":"default",children:["DRAFT"===e.status&&"Черновик","IN_PROGRESS"===e.status&&"В работе","IN_REGISTRY"===e.status&&"В реестре","PAID"===e.status&&"Выплачено"]})}),(0,r.jsx)(h.pj,{children:(0,c.p6)(e.createdAt)})]},e.id))})]})]}),(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(a.O,{title:"Статусы выплат",action:(0,r.jsx)(k.default,{href:"/payments",children:(0,r.jsx)(d.z,{variant:"ghost",size:"sm",children:"Все выплаты"})})}),(0,r.jsxs)(h.iA,{children:[(0,r.jsx)(h.xD,{children:(0,r.jsxs)(h.SC,{children:[(0,r.jsx)(h.pj,{header:!0,children:"Реестр"}),(0,r.jsx)(h.pj,{header:!0,children:"Сумма"}),(0,r.jsx)(h.pj,{header:!0,children:"Статус"}),(0,r.jsx)(h.pj,{header:!0,children:"Дата"})]})}),(0,r.jsx)(h.RM,{children:u.map(e=>(0,r.jsxs)(h.SC,{children:[(0,r.jsx)(h.pj,{children:e.registryId}),(0,r.jsx)(h.pj,{children:(0,c.xG)(e.amount)}),(0,r.jsx)(h.pj,{children:(0,r.jsxs)(x.C,{variant:"EXECUTED"===e.status?"success":"ERROR"===e.status?"danger":"warning",children:["PENDING"===e.status&&"Ожидание","ACCEPTED_BY_BANK"===e.status&&"Принято банком","EXECUTED"===e.status&&"Исполнено","ERROR"===e.status&&"Ошибка"]})}),(0,r.jsx)(h.pj,{children:(0,c.p6)(e.createdAt)})]},e.id))})]})]})]})})}},4226:function(e,s,t){"use strict";t.d(s,{z:function(){return n}});var r=t(7437);t(2265);var i=t(1994);let n=e=>{let{variant:s="primary",size:t="md",className:n,children:a,disabled:c,...l}=e;return(0,r.jsx)("button",{className:(0,i.W)("inline-flex items-center justify-center rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500"}[s],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[t],n),disabled:c,...l,children:a})}},9397:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}},function(e){e.O(0,[837,826,971,117,744],function(){return e(e.s=8484)}),_N_E=e.O()}]);