(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[74],{5430:function(e,t,n){Promise.resolve().then(n.bind(n,3))},3:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return D}});var a=n(7437);n(2265);var r=n(824),c=n(9178),d=n(9379),s=n(5930),i=n(3694),o=n(1384),u=n(3702),l=n(8332),m=n(9280),p=n(2097);function D(){let e=i.kG,{currentRole:t}=(0,p.o)();return(0,a.jsx)(r.A,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Выплаты и статусы банка"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Мониторинг статусов выплат от банка"})]}),"M2_OPERATOR"===t&&(0,a.jsx)(m.N,{id:"m2-payments-list",title:"\uD83C\uDFE6 Мониторинг выплат от банка",description:"Здесь отображаются статусы всех выплат по реестрам. Банк присылает референсы и статусы исполнения. Отслеживайте, какие выплаты прошли успешно, какие в ожидании, и какие завершились с ошибкой."}),"DEVELOPER_ADMIN"===t&&(0,a.jsx)(m.N,{id:"dev-payments-list",title:"\uD83D\uDCB3 Статусы выплат исполнителям",description:"Здесь видны статусы всех выплат по вашим заявкам. После того как вы оплатили заявку, М2 формирует реестр и отправляет в банк. Здесь вы видите, когда банк исполнил выплаты исполнителям."}),"CONTRACTOR"===t&&(0,a.jsx)(m.N,{id:"contractor-payments-list",title:"\uD83D\uDCB0 Мои выплаты",description:"Здесь отображаются статусы ваших выплат. Когда застройщик оплачивает заявку, М2 формирует реестр и отправляет в банк. Отслеживайте, когда банк исполнит вашу выплату и деньги поступят на ваш счёт."}),"AGENCY_ADMIN"===t&&(0,a.jsx)(m.N,{id:"agency-payments-list",title:"\uD83D\uDCCA Выплаты агентству",description:"Здесь отображаются статусы выплат вашему агентству и вашим агентам. После оплаты заявки застройщиком, М2 распределяет комиссию и отправляет реестр в банк. Следите за статусами исполнения."}),(0,a.jsx)(u.E,{...l.p.payments}),(0,a.jsx)(c.Z,{padding:"none",children:(0,a.jsxs)(s.iA,{children:[(0,a.jsx)(s.xD,{children:(0,a.jsxs)(s.SC,{children:[(0,a.jsx)(s.pj,{header:!0,children:"Реестр"}),(0,a.jsx)(s.pj,{header:!0,children:"Получатель"}),(0,a.jsx)(s.pj,{header:!0,children:"Сумма"}),(0,a.jsx)(s.pj,{header:!0,children:"Статус"}),(0,a.jsx)(s.pj,{header:!0,children:"Референс банка"}),(0,a.jsx)(s.pj,{header:!0,children:"Дата"})]})}),(0,a.jsx)(s.RM,{children:e.map(e=>{let t=i.dp.find(t=>t.id===e.contractorId);return(0,a.jsxs)(s.SC,{children:[(0,a.jsx)(s.pj,{children:(0,a.jsx)("span",{className:"font-mono text-sm",children:e.registryId})}),(0,a.jsx)(s.pj,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:null==t?void 0:t.name}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["ИНН: ",null==t?void 0:t.inn]})]})}),(0,a.jsx)(s.pj,{className:"font-medium",children:(0,o.xG)(e.amount)}),(0,a.jsxs)(s.pj,{children:[(0,a.jsxs)(d.C,{variant:"EXECUTED"===e.status?"success":"ERROR"===e.status?"danger":"warning",children:["PENDING"===e.status&&"Ожидание","ACCEPTED_BY_BANK"===e.status&&"Принято банком","EXECUTED"===e.status&&"Исполнено","ERROR"===e.status&&"Ошибка"]}),"ERROR"===e.status&&e.bankErrorText&&(0,a.jsx)("div",{className:"text-xs text-red-600 mt-1",children:e.bankErrorText})]}),(0,a.jsx)(s.pj,{children:e.bankReference?(0,a.jsx)("span",{className:"font-mono text-xs",children:e.bankReference}):"—"}),(0,a.jsx)(s.pj,{children:(0,o.o0)(e.createdAt)})]},e.id)})})]})})]})})}},9379:function(e,t,n){"use strict";n.d(t,{C:function(){return c}});var a=n(7437);n(2265);var r=n(1994);let c=e=>{let{children:t,variant:n="default",size:c="md"}=e;return(0,a.jsx)("span",{className:(0,r.W)("inline-flex items-center rounded-full font-medium",{default:"bg-gray-100 text-gray-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"}[n],{sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm"}[c]),children:t})}},3694:function(e,t,n){"use strict";n.d(t,{G:function(){return c},L$:function(){return i},bs:function(){return a},dp:function(){return r},kG:function(){return s},nh:function(){return d}});let a=[{id:"1",email:"admin@developer.ru",name:"Иван Застройщиков",role:"DEVELOPER_ADMIN",createdAt:new Date("2024-01-01")},{id:"2",email:"operator@m2split.ru",name:"Мария Операторова",role:"M2_OPERATOR",createdAt:new Date("2024-01-01")},{id:"3",email:"agency@realty.ru",name:'АН "Недвижимость+"',role:"CONTRACTOR",createdAt:new Date("2024-01-15")}],r=[{id:"c1",type:"AGENCY",name:'АН "Недвижимость Плюс"',inn:"7701234567",kpp:"770101001",accountNumber:"40702810100000001234",bik:"044525225",bankName:"ПАО Сбербанк",address:"г. Москва, ул. Примерная, д. 1",offerAcceptedAt:new Date("2024-02-01"),offerAcceptanceChannel:"email",createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-02-01")},{id:"c2",type:"AGENT",name:"Петров Петр Петрович",inn:"771234567890",accountNumber:"40817810200000002345",bik:"044525225",bankName:"ПАО Сбербанк",address:"г. Москва, ул. Агентская, д. 2",offerAcceptedAt:new Date("2024-02-05"),offerAcceptanceChannel:"web",createdAt:new Date("2024-01-20"),updatedAt:new Date("2024-02-05")},{id:"c3",type:"NPD",name:"Сидорова Анна Ивановна",inn:"123456789012",accountNumber:"40817810300000003456",bik:"044525974",bankName:"ПАО ВТБ",address:"г. Санкт-Петербург, пр. Невский, д. 100",offerAcceptedAt:new Date("2024-02-10"),offerAcceptanceChannel:"mobile",createdAt:new Date("2024-01-25"),updatedAt:new Date("2024-02-10")}],c=[{id:"d1",objectName:'ЖК "Солнечный"',objectAddress:"г. Москва, ул. Солнечная, д. 10, корп. 1",lotNumber:"Кв. 45",developerId:"1",totalAmount:15e6,status:"IN_PROGRESS",shares:[{id:"s1",contractorId:"c1",contractor:r[0],role:"AGENCY",sharePercent:60,amount:9e6,taxRegime:"OSN",vatRate:20,contractNumber:"АГ-001/2024",contractDate:new Date("2024-02-01")},{id:"s2",contractorId:"c2",contractor:r[1],role:"AGENT",sharePercent:30,amount:45e5,taxRegime:"USN",contractNumber:"АГ-002/2024",contractDate:new Date("2024-02-05")},{id:"s3",contractorId:"c3",contractor:r[2],role:"NPD",sharePercent:10,amount:15e5,taxRegime:"NPD",contractNumber:"АГ-003/2024",contractDate:new Date("2024-02-10")}],contractBasis:"Договор комиссии",contractNumber:"ДК-2024-001",contractDate:new Date("2024-02-01"),specialAccountReceiptDate:new Date("2024-02-15"),responsibleUserId:"2",initiator:{role:"M2_OPERATOR",partyId:"1",userId:"2",timestamp:new Date("2024-02-01")},createdAt:new Date("2024-02-01"),updatedAt:new Date("2024-02-15")},{id:"d2",objectName:'ЖК "Морской бриз"',objectAddress:"г. Санкт-Петербург, наб. Морская, д. 5",lotNumber:"Кв. 102",developerId:"1",totalAmount:22e6,status:"DRAFT",shares:[{id:"s4",contractorId:"c1",contractor:r[0],role:"AGENCY",sharePercent:70,amount:154e5,taxRegime:"OSN",vatRate:20},{id:"s5",contractorId:"c2",contractor:r[1],role:"AGENT",sharePercent:30,amount:66e5,taxRegime:"USN"}],responsibleUserId:"2",initiator:{role:"AGENCY_ADMIN",partyId:"c1",userId:"3",timestamp:new Date("2024-03-01")},createdAt:new Date("2024-03-01"),updatedAt:new Date("2024-03-01")}],d=[{id:"r1",registryNumber:"РЕЕ-2024-001",date:new Date("2024-03-15"),status:"APPROVED",totalAmount:15e6,linesCount:3,creatorId:"2",approverId:"1",approvedAt:new Date("2024-03-16"),lines:[{id:"l1",registryId:"r1",contractorId:"c1",contractor:r[0],role:"AGENCY",inn:"7701234567",accountNumber:"40702810100000001234",bik:"044525225",amount:9e6,taxRegime:"OSN",vatRate:20,contractNumber:"АГ-001/2024",contractDate:new Date("2024-02-01"),comment:"Комиссия за сделку ЖК Солнечный кв.45",paymentStatus:"PENDING",createdAt:new Date("2024-03-15"),updatedAt:new Date("2024-03-15")},{id:"l2",registryId:"r1",contractorId:"c2",contractor:r[1],role:"AGENT",inn:"771234567890",accountNumber:"40817810200000002345",bik:"044525225",amount:45e5,taxRegime:"USN",contractNumber:"АГ-002/2024",contractDate:new Date("2024-02-05"),comment:"Агентское вознаграждение",paymentStatus:"PENDING",createdAt:new Date("2024-03-15"),updatedAt:new Date("2024-03-15")},{id:"l3",registryId:"r1",contractorId:"c3",contractor:r[2],role:"NPD",inn:"123456789012",accountNumber:"40817810300000003456",bik:"044525974",amount:15e5,taxRegime:"NPD",contractNumber:"АГ-003/2024",contractDate:new Date("2024-02-10"),comment:"Услуги самозанятого",paymentStatus:"PENDING",createdAt:new Date("2024-03-15"),updatedAt:new Date("2024-03-15")}],createdAt:new Date("2024-03-15"),updatedAt:new Date("2024-03-16")}],s=[{id:"p1",registryId:"r1",lineId:"l1",contractorId:"c1",amount:9e6,status:"EXECUTED",bankReference:"BNK-2024-001",executedAt:new Date("2024-03-17"),createdAt:new Date("2024-03-16"),updatedAt:new Date("2024-03-17")},{id:"p2",registryId:"r1",lineId:"l2",contractorId:"c2",amount:45e5,status:"ACCEPTED_BY_BANK",bankReference:"BNK-2024-002",createdAt:new Date("2024-03-16"),updatedAt:new Date("2024-03-16")},{id:"p3",registryId:"r1",lineId:"l3",contractorId:"c3",amount:15e5,status:"ERROR",bankErrorCode:"ERR-01",bankErrorText:"Неверный номер счёта получателя",createdAt:new Date("2024-03-16"),updatedAt:new Date("2024-03-16")}],i={specialAccountBalance:37e6,paidThisPeriod:9e6,pendingPayments:6e6,errorPayments:15e5,primaryDocCompletion:33.33,vatSavings:18e5}}},function(e){e.O(0,[211,769,652,971,117,744],function(){return e(e.s=5430)}),_N_E=e.O()}]);